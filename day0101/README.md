Check the second stage solution for a cleaner approach to solve the first stage
